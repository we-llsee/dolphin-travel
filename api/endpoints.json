{
  "GET /api": {
    "description": "serves up a json representation of all the available endpoints of the api"
  },
  "GET /api/trips": {
    "description": "serves an array of all trips for the specified user",
    "required queries": ["username"],
    "exampleRequest": "/api/trips?username=willclegg",
    "exampleResponse": {
      "trips": [
        {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Getaway",
          "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1580,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": [
            {
              "_id": "1234",
              "dayNumber": 1,
              "activities": [
                {
                  "_id": "62f24228222c00589a5e617a",
                  "activityName": "Charles Bridge",
                  "latitude": 50.0866258,
                  "longitude": 14.410148493264568,
                  "address": {
                    "attraction": "Charles Bridge",
                    "road": "Charles Bridge",
                    "suburb": "Old Town",
                    "city_district": "Prague",
                    "city": "Prague",
                    "state": "Prague",
                    "postcode": "116 93",
                    "country": "Czechia",
                    "country_code": "cz"
                  },
                  "type": "attraction"
                }
              ]
            }
          ]
        }
      ]
    }
  },
  "POST /api/trips": {
    "description": "adds a new trip to the database and returns the trip on a key of trip",
    "requestBody": {
      "tripName": "string",
      "attending": "array of all users going on trip",
      "budgetGBP": "integer > 0",
      "startDate": "date (cannot be in the past)",
      "endDate": "date (cannot be before the startDate)",
      "country": "country",
      "accommodation": {
        "accommodationName": "string",
        "latitude": "number",
        "longitude": "number",
        "address": "empty object or object containing any number of address keys"
      },
      "exampleRequest": "/api/trips",
      "exampleResponse": {
        "trip": {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Getaway",
          "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1580,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": []
        }
      }
    }
  },
  "GET /api/trips/:trip_id": {
    "description": "serves an object containing the trip with the trip id specified for a specific user",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id" },
    "exampleRequest": "/api/trips/62f24229222c00589a5e617f?username=willclegg",
    "exampleResponse": {
      "trip": {
        "_id": "62f24229222c00589a5e617f",
        "tripName": "Team 2 Getaway",
        "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
        "startDate": "2022-08-31T23:00:00.000Z",
        "endDate": "2022-09-07T23:00:00.000Z",
        "budgetGBP": 1580,
        "country": "Czech Republic",
        "accommodation": {
          "accommodationName": "Hotel Pod Věží",
          "latitude": 50.0873932,
          "longitude": 14.4066676,
          "address": {
            "name": "Hotel Pod Věží",
            "house_number": "2",
            "road": "Mostecká",
            "city": "Prague",
            "state": "Prague",
            "postcode": 11800,
            "country": "Czechia",
            "country_code": "CZ"
          }
        },
        "days": [
          {
            "_id": "1234",
            "dayNumber": 1,
            "activities": [
              {
                "_id": "62f24228222c00589a5e617a",
                "activityName": "Charles Bridge",
                "latitude": 50.0866258,
                "longitude": 14.410148493264568,
                "address": {
                  "attraction": "Charles Bridge",
                  "road": "Charles Bridge",
                  "suburb": "Old Town",
                  "city_district": "Prague",
                  "city": "Prague",
                  "state": "Prague",
                  "postcode": "116 93",
                  "country": "Czechia",
                  "country_code": "cz"
                },
                "type": "attraction"
              }
            ]
          }
        ]
      }
    }
  },
  "DELETE /api/trips/:trip_id": {
    "description": "deletes the trip specified if the user attempting to delete the trip is the creator",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id" },
    "exampleRequest": "/api/trips/62f24229222c00589a5e617f?username=willclegg",
    "exampleResponse": {}
  },
  "GET /api/users": {
    "description": "Returns array of users",
    "required queries": ["username"],
    "exampleRequest": "/api/users/username=willclegg",
    "exampleResponse": {
      "users": [
        { "_id": "willclegg", "firstName": "Will", "lastName": "Clegg" },
        { "_id": "jesskemp", "firstName": "Jess", "lastName": "Kemp" }
      ]
    }
  },
  "GET /api/users/:username": {
    "description": "Returns specified user on a key of 'user'",
    "parameters": ["username"],
    "exampleRequest": "/api/users/willclegg",
    "exampleResponse": {"user": { "_id": "willclegg", "firstName": "Will", "lastName": "Clegg" }}
  },
  "PATCH /api/trips/:trip_id": {
    "description": "updates a trip in the database and returns the updated trip on a key of trip",
    "required queries": ["username"],
    "requestBodyDescription": "every option is the requestBody is optional but at least one field must be provided",
    "requestBody": {
      "tripName": "string",
      "addPeople": "an array of all the new users to add",
      "removePeople": "an array of all the users to remove from the trip",
      "newCreator": "the username of the person to assign as creator of the trip (moved to index 0 in attending array)",
      "budgetGBP": "integer > 0",
      "startDate": "date (cannot be in the past)",
      "endDate": "date (cannot be before the startDate)",
      "accommodation": {
        "accommodationName": "string",
        "latitude": "number",
        "longitude": "number",
        "address": "empty object or object containing any number of address keys"
      },
      "exampleRequest": "/api/trips/:trip_id?username=willclegg",
      "exampleResponse": {
        "trip": {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Trip Away",
          "attending": ["jesskemp", "willclegg", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1700,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": []
        }
      }
    }
  }
}
