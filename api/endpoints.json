{
  "GET /api": {
    "description": "serves up a json representation of all the available endpoints of the api"
  },
  "GET /api/trips": {
    "description": "serves an array of all trips for the specified user",
    "required queries": ["username"],
    "exampleRequest": "/api/trips?username=willclegg",
    "exampleResponse": {
      "trips": [
        {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Getaway",
          "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1580,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": [
            {
              "_id": "1234",
              "dayNumber": 1,
              "activities": [
                {
                  "_id": "62f24228222c00589a5e617a",
                  "activityName": "Charles Bridge",
                  "latitude": 50.0866258,
                  "longitude": 14.410148493264568,
                  "address": {
                    "attraction": "Charles Bridge",
                    "road": "Charles Bridge",
                    "suburb": "Old Town",
                    "city_district": "Prague",
                    "city": "Prague",
                    "state": "Prague",
                    "postcode": "116 93",
                    "country": "Czechia",
                    "country_code": "cz"
                  },
                  "type": "attraction"
                }
              ]
            }
          ]
        }
      ]
    }
  },
  "POST /api/trips": {
    "description": "adds a new trip to the database and returns the trip on a key of trip",
    "requestBody": {
      "tripName": "string",
      "attending": "array of all users going on trip",
      "budgetGBP": "integer > 0",
      "startDate": "date (cannot be in the past)",
      "endDate": "date (cannot be before the startDate)",
      "country": "country",
      "accommodation": {
        "accommodationName": "string",
        "latitude": "number",
        "longitude": "number",
        "address": "empty object or object containing any number of address keys"
      },
      "exampleRequest": "/api/trips",
      "exampleResponse": {
        "trip": {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Getaway",
          "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1580,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": []
        }
      }
    }
  },
  "GET /api/trips/:trip_id": {
    "description": "serves an object containing the trip with the trip id specified for a specific user",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id" },
    "exampleRequest": "/api/trips/62f24229222c00589a5e617f?username=willclegg",
    "exampleResponse": {
      "trip": {
        "_id": "62f24229222c00589a5e617f",
        "tripName": "Team 2 Getaway",
        "attending": ["willclegg", "jesskemp", "alexrong", "mohamedelrofai"],
        "startDate": "2022-08-31T23:00:00.000Z",
        "endDate": "2022-09-07T23:00:00.000Z",
        "budgetGBP": 1580,
        "country": "Czech Republic",
        "accommodation": {
          "accommodationName": "Hotel Pod Věží",
          "latitude": 50.0873932,
          "longitude": 14.4066676,
          "address": {
            "name": "Hotel Pod Věží",
            "house_number": "2",
            "road": "Mostecká",
            "city": "Prague",
            "state": "Prague",
            "postcode": 11800,
            "country": "Czechia",
            "country_code": "CZ"
          }
        },
        "days": [
          {
            "_id": "1234",
            "dayNumber": 1,
            "activities": [
              {
                "_id": "62f24228222c00589a5e617a",
                "activityName": "Charles Bridge",
                "latitude": 50.0866258,
                "longitude": 14.410148493264568,
                "address": {
                  "attraction": "Charles Bridge",
                  "road": "Charles Bridge",
                  "suburb": "Old Town",
                  "city_district": "Prague",
                  "city": "Prague",
                  "state": "Prague",
                  "postcode": "116 93",
                  "country": "Czechia",
                  "country_code": "cz"
                },
                "type": "attraction"
              }
            ]
          }
        ]
      }
    }
  },
  "DELETE /api/trips/:trip_id": {
    "description": "deletes the trip specified if the user attempting to delete the trip is the creator",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id" },
    "exampleRequest": "/api/trips/62f24229222c00589a5e617f?username=willclegg",
    "exampleResponse": {}
  },
  "GET /api/users": {
    "description": "Returns array of users",
    "required queries": ["username"],
    "exampleRequest": "/api/users/username=willclegg",
    "exampleResponse": {
      "users": [
        { "_id": "willclegg", "firstName": "Will", "lastName": "Clegg" },
        { "_id": "jesskemp", "firstName": "Jess", "lastName": "Kemp" }
      ]
    }
  },
  "GET /api/users/:username": {
    "description": "Returns specified user on a key of 'user'",
    "parameters": ["username"],
    "exampleRequest": "/api/users/willclegg",
    "exampleResponse": {"user": { "_id": "willclegg", "firstName": "Will", "lastName": "Clegg" }}
  },
  "PATCH /api/trips/:trip_id": {
    "description": "updates a trip in the database and returns the updated trip on a key of trip",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id" },
    "requestBodyDescription": "every option is the requestBody is optional but at least one field must be provided",
    "requestBody": {
      "tripName": "string",
      "addPeople": "an array of all the new users to add",
      "removePeople": "an array of all the users to remove from the trip",
      "newCreator": "the username of the person to assign as creator of the trip (moved to index 0 in attending array)",
      "budgetGBP": "integer > 0",
      "startDate": "date (cannot be in the past)",
      "endDate": "date (cannot be before the startDate)",
      "accommodation": {
        "accommodationName": "string",
        "latitude": "number",
        "longitude": "number",
        "address": "empty object or object containing any number of address keys"
      },
      "exampleRequest": "/api/trips/:trip_id?username=willclegg",
      "exampleResponse": {
        "trip": {
          "_id": "62f24229222c00589a5e617f",
          "tripName": "Team 2 Trip Away",
          "attending": ["jesskemp", "willclegg", "alexrong", "mohamedelrofai"],
          "startDate": "2022-08-31T23:00:00.000Z",
          "endDate": "2022-09-07T23:00:00.000Z",
          "budgetGBP": 1700,
          "country": "Czech Republic",
          "accommodation": {
            "accommodationName": "Hotel Pod Věží",
            "latitude": 50.0873932,
            "longitude": 14.4066676,
            "address": {
              "name": "Hotel Pod Věží",
              "house_number": "2",
              "road": "Mostecká",
              "city": "Prague",
              "state": "Prague",
              "postcode": 11800,
              "country": "Czechia",
              "country_code": "CZ"
            }
          },
          "days": []
        }
      }
    }
  },
  "POST /api/trips/:trip_id": {
    "description": "adds a new empty day to the trip and returns the day on a key of day",
    "parameters": { "trip_id": "the trips 24 character _id" },
    "requestBody": {
      "username": "the username of the user adding the day",
      "dayNumber": "the day of the holiday relative to the start date, e.g. if the start date is 10/05/2022, then the dayNumber for 11/05/2022 would be 2. This can be set to 0 if the user does not want to select a day at this point)"
      },
      "exampleRequest": "/api/trips/:trip_id",
      "exampleResponse": {
        "day": { "_id": "62fa317ea5b2a1d71463530c", "dayNumber": 3, "activities": [] }
      }
  },
  "GET /api/trips/:trip_id/:day_id": {
    "description": "serves a specific day from specific trip on a key of day",
    "required queries": ["username"],
    "parameters": { "trip_id": "the trips 24 character _id", "day_id": "the day's 24 character _id"},
    "exampleRequest": "/api/trips/62f24229222c00589a5e617f/63f24229222c00589a5e617d?username=willclegg",
    "exampleResponse": {
      "day": {
        "_id": "62f24229222c00589a5e617f",
        "day_number": 1,
        "activites":[]
      }
    }
  },
  "POST /api/trips/:trip_id/:day_id": {
    "description": "adds a new activity to the specified day of the specified trip and returns the activity on a key of activity",
    "parameters": { "trip_id": "the trips 24 character _id", "day_id": "the days 24 character _id" },
    "requestBody": {
      "username": "the username of the user adding the activity",
      "activityName": "string",
      "latitude": "number",
      "longitude": "number",
      "address": "an object (the object can be empty)",
      "type": "string (this is not required and will be set to 'other' if it is not given"
    },
      "exampleRequest": "/api/trips/:trip_id/:day_id",
      "exampleResponse": {
        "activity": {
          "_id": "62fa83901f08e1d94f736916",
          "activityName": "Trevi Fountain",
          "latitude": 41.9009778,
          "longitude": 12.483284842339874,
          "address": {
            "attraction": "Trevi Fountain",
            "road": "Piazza di Trevi",
            "quarter": "Trevi",
            "suburb": "Municipio Roma I",
            "city": "Rome",
            "county": "Roma Capitale",
            "state": "Lazio",
            "postcode": "00187",
            "country": "Italy",
            "country_code": "it"
          },
          "type": "attraction"
        }
      }
    }
}
